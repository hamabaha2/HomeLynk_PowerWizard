
/* +-------------------------------------+
   |               Libraries             |
   +-------------------------------------+ */
 #include <WiFi.h>
 #include <Preferences.h>
 #include <esp_now.h>

/* +-------------------------------------+
   |        Structure Templates          |
   +-------------------------------------+*/


/* +-------------------------------------+
   |          Global Variables           |
   +-------------------------------------+*/

const setup_btn = 1; 			// This is the pin that has the setup button
unsigned int setup_btn_timer; 	// How many millis the button is pressed dfg

/* +-------------------------------------+
   |         Global Structures           |
   +-------------------------------------+*/


/* +-------------------------------------+
   |       Function Declarations         |
   +-------------------------------------+ */

// Setup Function
void setup_mode() {
	// setup mode configuration here

	// exit setup mode using button

}
void setup_mode() {
  while (digitalRead(setup_btn)==HIGH) {
    // feedback on setup led while button is pressed
    Serial.println("Waiting for button release to start setup mode");
  }
  while (digitalRead(setup_btn)==LOW) {
    // start the setup process when button released
    Serial.println("Entering setup mode");
  }
  btn_timer = millis();	// reset the button timer (not sure if this works)
  // return 0;
}



/* +-------------------------------------+
   |                Setup                |
   +-------------------------------------+ */
void setup() {
	//
}

/* +-------------------------------------+
   |                 Loop                |
   +-------------------------------------+*/
void loop() {
	// setup button check
	setup_btn_timer = millis();
	while (digitalRead(setup_btn)==HIGH) {
    if ((millis() - setup_btn_timer) > 5000) {  // pressed for 5 seconds
      setup_btn_timer = millis(); 				// reset setup button timer
      setup_mode();  							// enter setup mode
      }
	}
}
